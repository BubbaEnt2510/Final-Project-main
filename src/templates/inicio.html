{% extends './base-inicio.html' %}
<!-- Esta plantilla hereda del archivo `base.html`, tomando su estructura y contenido como base. -->

{% block tittle %} Inicio {% endblock %}
<!-- Este bloque define el título de la página como "Inicio". -->

{% block customCSS %}
<!-- CSS -->

<style>
    body {
        margin-top: 40px;
        font-size: 14px;
        font-family: Arial, Helvetica Neue, Helvetica, sans-serif;
    }

    #external-events {
        float: left; /* Hacer que el contenedor de eventos externos flote a la izquierda */
        width: 150px;
        padding: 0 10px;
        border: 1px solid #eee;
        background: #eee;
        text-align: left;
    }

    #external-events h4 {
        font-size: 16px;
        margin-top: 0;
        padding-top: 1em;
    }

    #external-events .fc-event {
        margin: 3px 0;
        cursor: move;
    }

    #external-events p {
        margin: 1.5em 0;
        font-size: 11px;
        color: #000000;
    }

    #external-events p input {
        margin: 0;
        vertical-align: middle;
    }

    #calendar-wrap {
        margin-left: 200px; /* Ajustar el margen izquierdo para dejar espacio para el contenedor de eventos externos */
    }

    #calendar {
        max-width: 550px;
        margin: 0 auto;
    }

    h4 {
        color: black;
    }

    a {
      text-decoration: none;
    }

    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
  }

  :root {
    --bg-color: #112031;
    --card-bg: #395b64;
    --text-color: #e7f6f2;
    --imc-color: #a5c9ca;
  }

  .wrapper {
  display: flex;
  justify-content: center; /* Centra horizontalmente los elementos */
}

.card1,
.card2 {
  flex: 1; /* Para que ambos cards tengan el mismo ancho */
  margin: 0 10px; /* Espacio entre los cards */
}


  .container {
    width: 100%;
  }

  .container h1 {
    color: var(--text-color);
    font-size: 2.5rem;
  }

  .container .valuesArea * {
    display: block;
  }

  .container .valuesArea label {
    color: var(--text-color);
    font-size: 1.25rem;
    margin: 5px 0;
  }

  .container .valuesArea input {
    background: var(--text-color);
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: none;
    outline: none;
    border-radius: 5px;
  }

  .container .actionsArea {
    margin: 20px 0;
    display: flex;
    flex-direction: column; /* Cambiado a columna para mejor disposición */
    align-items: center;
    gap: 5px;
  }

  .container .actionsArea p {
    width: 100%;
    background: var(--imc-color);
    color: var(--bg-color);
    font-weight: bold;
    padding: 10px 15px;
    border-radius: 5px;
  }

  .container .actionsArea button.actionBtn {
    text-align: center;
    width: 150px;
    background-color: var(--bg-color);
    color: var(--text-color);
    padding: 10px;
    font-size: 1rem;
    border: none;
    outline: none;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.3s ease-in-out;
  }

  .container .actionsArea button.actionBtn:hover,
  .container .actionsArea button.actionBtn:focus {
    background: var(--imc-color);
    color: var(--bg-color);
  }

  .container table.classification {
    width: 100%;
    text-align: center;
    color: var(--text-color);
    border-collapse: collapse;
    overflow: hidden;
    margin-top: 20px; /* Espacio superior añadido para separar la tabla de la calculadora */
  }

  .container table.classification tr th,
  .container table.classification tr td {
    padding: 15px 5px;
    border-bottom: 3px solid var(--imc-color);
  }

  .container table.classification thead {
    background: var(--bg-color);
  }

  .container table.classification .trClass {
    background: var(--card-bg);
    transition: all 0.3s ease-in-out;
  }

  @media (max-width: 1050px) {
    .wrapper {
      margin: 15px 0;
      flex-direction: column;
    }
  }

</style>
{% endblock %} 

{% block body %}
<!-- Este bloque define el contenido principal del cuerpo de la página. -->
<div id="notification" class="notification-closed">
  <strong>Hola, {{ current_user.fullname }}. ¡Bienvenido!</strong>
</div>


<div class="b-example-divider"></div>

<header class="p-3 bg-dark text-white">
  <div class="container">
    <div
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
      <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap" >
          <use xlink:href="#bootstrap" />
        </svg>
      </a>

      <ul
        class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
        <li><a href="#" class="nav-link px-2 text-secondary">Home</a></li>
        <li><a href="#" class="nav-link px-2 text-white">Features</a></li>
        <li><a href="#" class="nav-link px-2 text-white">Pricing</a></li>
        <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
        <li><a href="#" class="nav-link px-2 text-white">About</a></li>
      </ul>

      <div class="text-end">
        <a class="btn btn-warning" href="{{ url_for('logout') }}">Logout</a>
      </div>
    </div>
  </div>
</header>
<br>
<main class="container">
  <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark d-flex justify-content-center align-items-center">
    <div class="col-md-6 px-0 text-center">
        <h1 class="display-4 fst-italic">TimeReminder</h1>
        <h5 class="lead my-3">¿Quiénes Somos?</h5>
        <p class="lead my-3">
            Somos un equipo comprometido en proporcionarte las mejores herramientas para facilitar tu vida diaria. Con años de experiencia en desarrollo de software y diseño de interfaces muy adaptables al uso, hemos creado TimeReminder con el objetivo de ayudarte a optimizar tu tiempo, mejorar tus hábitos financieros y promover un estilo de vida saludable.
        </p>
    </div>
</div>


  <hr>

  <div id="carouselContainer" class="container">
    <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>
          <div class="container">
            <div class="carousel-video text-center">
              <!-- Implementar video explicativo para las funciones de la pagina -->
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>
          <div class="container">
            <div class="carousel-video">
              <!-- Implementar video explicativo para las funciones de la pagina -->
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>
          <div class="container">
            <div class="carousel-video text-center">
              <!-- Implementar video explicativo para las funciones de la pagina -->
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/></svg>
          <div class="container">
            <div class="carousel-video text-center">
              <!-- Implementar video explicativo para las funciones de la pagina -->
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  


  <hr>

  <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
    <div id='wrap'>

      <div id='external-events'>
        <h4>Task</h4>
  
        <div id='external-events-list'>
          <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
            <div class='fc-event-main'>My Event 1</div>
          </div>
          <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
            <div class='fc-event-main'>My Event 2</div>
          </div>
          <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
            <div class='fc-event-main'>My Event 3</div>
          </div>
          <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
            <div class='fc-event-main'>My Event 4</div>
          </div>
          <div class='fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event'>
            <div class='fc-event-main'>My Event 5</div>
          </div>
        </div>
  
        <p>
          <input type='checkbox' id='drop-remove' />
          <label for='drop-remove'>remove after drop</label>
        </p>
      </div>
  
      <div id='calendar-wrap'>
        <div id='calendar'></div>
      </div>
  
    </div>
  </div>

  <hr>

  <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
      <div class="wrapper">
        <div class="card1">
          <div class="container">
            <h1>Calcule seu IMC</h1>
            <div class="valuesArea">
              <label for="peso">Peso:</label>
              <input type="number" class="inputValues" id="peso" placeholder="Quilogramas" autocomplete="off" maxlength="3" required />
            </div>
            <div class="valuesArea">
              <label for="altura">Altura:</label>
              <input type="number" class="inputValues" id="altura" placeholder="Metros" step="0.01" autocomplete="off" required />
            </div>
            <div class="actionsArea">
              <p>IMC: <span class="imcValue"></span></p>
              <button class="actionBtn" id="calc" type="submit">Calcular</button>
              <button class="actionBtn" id="reset" type="reset">Limpar</button>
            </div>
          </div>
        </div>
        <div class="card1">
          <div class="container">
            <h1>Tabla de Clasificación</h1>
            <table class="classification">
              <thead>
                <tr>
                  <th>IMC</th>
                  <th>Classificación</th>
                </tr>
              </thead>
              <tbody>
                <tr class="trClass">
                  <td>Abaixo de 18,5</td>
                  <td>Baixo Peso</td>
                </tr>
                <tr class="trClass">
                  <td>Entre 18,6 e 24,9</td>
                  <td>Peso Normal</td>
                </tr>
                <tr class="trClass">
                  <td>Entre 25 e 29,9</td>
                  <td>Sobrepeso</td>
                </tr>
                <tr class="trClass">
                  <td>Entre 30 e 34,9</td>
                  <td>Obesidade Grau I</td>
                </tr>
                <tr class="trClass">
                  <td>Entre 35 e 39,9</td>
                  <td>Obesidade Grau II</td>
                </tr>
                <tr class="trClass">
                  <td>Acima de 40</td>
                  <td>Obesidade Grau III</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
  </div>

  <hr>

  <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
    <div class="col-md-6 px-0">
      
    </div>
  </div>
</main>

<div class="b-example-divider"></div>

<div class="container">
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <div class="col-md-4 d-flex align-items-center">
      <a href="/" class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">
        <svg class="bi" width="30" height="24"><use xlink:href="#bootstrap"/></svg>
      </a>
      <span class="text-muted">&copy; 2021 Company, Inc</span>
    </div>

    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
      <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"/></svg></a></li>
      <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"/></svg></a></li>
      <li class="ms-3"><a class="text-muted" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"/></svg></a></li>
    </ul>
  </footer>
</div>

  

<script>
  let calcBtn = document.querySelector("button#calc");
  const colors = {
    font: "#e7f6f2",
    bg: "#395b64",
    chooseBg: "#a5c9ca",
    chooseFont: "#112031",
  };
  calcBtn.onclick = function calcImc() {
    let pesoValue = document.querySelector("#peso").value;
    let alturaValue = document.querySelector("#altura").value;
    let imcValue = document.querySelector(".imcValue");
    let calcImc = pesoValue / alturaValue ** 2;

    if (alturaValue == "" && pesoValue == "") {
      alert("É necessário informar: \n > Peso \n > Altura");
    } else if (alturaValue == "") {
      alert("É necessário informar: \n > Altura");
    } else if (pesoValue == "") {
      alert("É necessário informar: \n > Peso");
    } else {
      imcValue.innerHTML = `${calcImc.toFixed(2)}`;
      const trs = document.querySelectorAll(".trClass");
      for (let i = 0; i < trs.length; i++) {
        let chooseTr = {
          tr1: trs[0],
          tr2: trs[1],
          tr3: trs[2],
          tr4: trs[3],
          tr5: trs[4],
          tr6: trs[5],
        };

        if (calcImc <= 18.5) {
          chooseTr.tr1.style.backgroundColor = colors.chooseBg;
          chooseTr.tr1.style.color = colors.chooseFont;
        } else if (calcImc >= 18.6 && calcImc <= 24.9) {
          chooseTr.tr2.style.backgroundColor = colors.chooseBg;
          chooseTr.tr2.style.color = colors.chooseFont;
        } else if (calcImc >= 25 && calcImc <= 29.9) {
          chooseTr.tr3.style.backgroundColor = colors.chooseBg;
          chooseTr.tr3.style.color = colors.chooseFont;
        } else if (calcImc >= 30 && calcImc <= 34.9) {
          chooseTr.tr4.style.backgroundColor = colors.chooseBg;
          chooseTr.tr4.style.color = colors.chooseFont;
        } else if (calcImc >= 35 && calcImc <= 39.9) {
          chooseTr.tr5.style.backgroundColor = colors.chooseBg;
          chooseTr.tr5.style.color = colors.chooseFont;
        } else if (calcImc >= 40) {
          chooseTr.tr6.style.backgroundColor = colors.chooseBg;
          chooseTr.tr6.style.color = colors.chooseFont;
        }
        // Aquí sigue el resto de la lógica para cambiar el color de las filas de la tabla según el IMC
      }
    }
  };

  let resetBtn = document.querySelector("button#reset");
  resetBtn.onclick = function resetValue() {
    let imcValue = document.querySelector(".imcValue");
    const trs = document.querySelectorAll(".trClass");
    for (let i = 0; i < trs.length; i++) {
      let chooseTr = trs[i];
      chooseTr.style.backgroundColor = colors.bg;
      chooseTr.style.color = colors.font;
    }
    pesoValue = document.querySelector("#peso").value = "";
    alturaValue = document.querySelector("#altura").value = "";
    imcValue.innerHTML = "";
  };
</script>

{% endblock %}
