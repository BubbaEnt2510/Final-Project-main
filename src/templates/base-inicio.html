<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Título de la página -->
    <title>{% block title %} {% endblock %}</title>

    <script>

document.addEventListener('DOMContentLoaded', function() {
    // Inicializar los eventos externos para FullCalendar
    var containerEl = document.getElementById('external-events-list');
    new FullCalendar.Draggable(containerEl, {
        itemSelector: '.fc-event',
        eventData: function(eventEl) {
            return {
                title: eventEl.innerText.trim()
            }
        }
    });

    // Inicializar el calendario
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
        headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
        },
        editable: true,
        droppable: true, // permite que las cosas se suelten en el calendario
        drop: function(arg) {
            // Eliminar el elemento de la lista de eventos externos
            arg.draggedEl.parentNode.removeChild(arg.draggedEl);
        }
    });
    calendar.render();
});

    </script>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    {% block customCSS %}
    {% endblock %}
</head>
<body class="text-center">
    <!-- Contenido del cuerpo de la página -->
    {% block body %}
    {% endblock %}

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!--Biblioteca de FullCalendar-->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>


</body>
</html>

<!--Prueba de Pull Request-->
